import{g as A,r as C}from"./index-2506bfc3.js";import{p as W,u as N}from"./VideoPlayer-1c974ccd.js";function j(p,i){for(var s=0;s<i.length;s++){const l=i[s];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in p)){const y=Object.getOwnPropertyDescriptor(l,c);y&&Object.defineProperty(p,c,y.get?y:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}var P={};(function(p){function i(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(o){return typeof o}:i=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(e)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=O(C),l=N,c=W;function y(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return y=function(){return e},e}function O(e){if(e&&e.__esModule)return e;if(e===null||i(e)!=="object"&&typeof e!="function")return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=r?Object.getOwnPropertyDescriptor(e,a):null;n&&(n.get||n.set)?Object.defineProperty(o,a,n):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,o){return t&&b(e.prototype,t),o&&b(e,o),e}function R(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},v(e,t)}function D(e){var t=T();return function(){var r=h(e),a;if(t){var n=h(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return L(this,a)}}function L(e,t){return t&&(i(t)==="object"||typeof t=="function")?t:f(e)}function f(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},h(e)}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k="https://cdn.embed.ly/player-0.1.0.min.js",E="playerjs",_=function(e){R(o,e);var t=D(o);function o(){var r;S(this,o);for(var a=arguments.length,n=new Array(a),d=0;d<a;d++)n[d]=arguments[d];return r=t.call.apply(t,[this].concat(n)),u(f(r),"callPlayer",l.callPlayer),u(f(r),"duration",null),u(f(r),"currentTime",null),u(f(r),"secondsLoaded",null),u(f(r),"mute",function(){r.callPlayer("mute")}),u(f(r),"unmute",function(){r.callPlayer("unmute")}),u(f(r),"ref",function(m){r.iframe=m}),r}return w(o,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(a){var n=this;(0,l.getSDK)(k,E).then(function(d){n.iframe&&(n.player=new d.Player(n.iframe),n.player.setLoop(n.props.loop),n.player.on("ready",n.props.onReady),n.player.on("play",n.props.onPlay),n.player.on("pause",n.props.onPause),n.player.on("seeked",n.props.onSeek),n.player.on("ended",n.props.onEnded),n.player.on("error",n.props.onError),n.player.on("timeupdate",function(m){var g=m.duration,M=m.seconds;n.duration=g,n.currentTime=M}),n.player.on("buffered",function(m){var g=m.percent;n.duration&&(n.secondsLoaded=n.duration*g)}),n.props.muted&&n.player.mute())},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(a){this.callPlayer("setCurrentTime",a)}},{key:"setVolume",value:function(a){this.callPlayer("setVolume",a*100)}},{key:"setLoop",value:function(a){this.callPlayer("setLoop",a)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var a=this.props.url.match(c.MATCH_URL_STREAMABLE)[1],n={width:"100%",height:"100%"};return s.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(a),frameBorder:"0",scrolling:"no",style:n,allow:"encrypted-media; autoplay; fullscreen;"})}}]),o}(s.Component);p.default=_,u(_,"displayName","Streamable"),u(_,"canPlay",c.canPlay.streamable)})(P);const q=A(P),K=j({__proto__:null,default:q},[P]);export{K as S};
//# sourceMappingURL=Streamable-b57d6b34.js.map
