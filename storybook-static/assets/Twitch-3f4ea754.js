import{g as z,r as B}from"./index-2506bfc3.js";import{p as X,u as J}from"./VideoPlayer-fe93c32d.js";function Q(p,c){for(var y=0;y<c.length;y++){const u=c[y];if(typeof u!="string"&&!Array.isArray(u)){for(const l in u)if(l!=="default"&&!(l in p)){const d=Object.getOwnPropertyDescriptor(u,l);d&&Object.defineProperty(p,l,d.get?d:{enumerable:!0,get:()=>u[l]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}var E={};(function(p){function c(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(n){return typeof n}:c=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c(e)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var y=S(B),u=J,l=X;function d(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return d=function(){return e},e}function S(e){if(e&&e.__esModule)return e;if(e===null||c(e)!=="object"&&typeof e!="function")return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(r){f(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function I(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},m(e,t)}function N(e){var t=C();return function(){var r=_(e),o;if(t){var i=_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return A(this,o)}}function A(e,t){return t&&(c(t)==="object"||typeof t=="function")?t:h(e)}function h(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M="https://player.twitch.tv/js/embed/v1.js",j="Twitch",k="twitch-player-",O=function(e){I(n,e);var t=N(n);function n(){var r;L(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),f(h(r),"callPlayer",u.callPlayer),f(h(r),"playerID",r.props.config.playerId||"".concat(k).concat((0,u.randomString)())),f(h(r),"mute",function(){r.callPlayer("setMuted",!0)}),f(h(r),"unmute",function(){r.callPlayer("setMuted",!1)}),r}return R(n,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(o,i){var a=this,P=this.props,H=P.playsinline,W=P.onError,F=P.config,K=P.controls,v=l.MATCH_URL_TWITCH_CHANNEL.test(o),g=v?o.match(l.MATCH_URL_TWITCH_CHANNEL)[1]:o.match(l.MATCH_URL_TWITCH_VIDEO)[1];if(i){v?this.player.setChannel(g):this.player.setVideo("v"+g);return}(0,u.getSDK)(M,j).then(function(D){a.player=new D.Player(a.playerID,T({video:v?"":g,channel:v?g:"",height:"100%",width:"100%",playsinline:H,autoplay:a.props.playing,muted:a.props.muted,controls:v?!0:K,time:(0,u.parseStartTime)(o)},F.options));var s=D.Player,U=s.READY,V=s.PLAYING,Y=s.PAUSE,$=s.ENDED,q=s.ONLINE,x=s.OFFLINE,G=s.SEEK;a.player.addEventListener(U,a.props.onReady),a.player.addEventListener(V,a.props.onPlay),a.player.addEventListener(Y,a.props.onPause),a.player.addEventListener($,a.props.onEnded),a.player.addEventListener(G,a.props.onSeek),a.player.addEventListener(q,a.props.onLoaded),a.player.addEventListener(x,a.props.onLoaded)},W)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(o){this.callPlayer("seek",o)}},{key:"setVolume",value:function(o){this.callPlayer("setVolume",o)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var o={width:"100%",height:"100%"};return y.default.createElement("div",{style:o,id:this.playerID})}}]),n}(y.Component);p.default=O,f(O,"displayName","Twitch"),f(O,"canPlay",l.canPlay.twitch),f(O,"loopOnEnded",!0)})(E);const Z=z(E),re=Q({__proto__:null,default:Z},[E]);export{re as T};
//# sourceMappingURL=Twitch-3f4ea754.js.map
