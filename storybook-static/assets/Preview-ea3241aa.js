import{g as T,r as U}from"./index-2506bfc3.js";function K(p,f){for(var u=0;u<f.length;u++){const l=f[u];if(typeof l!="string"&&!Array.isArray(l)){for(const s in l)if(s!=="default"&&!(s in p)){const h=Object.getOwnPropertyDescriptor(l,s);h&&Object.defineProperty(p,s,h.get?h:{enumerable:!0,get:()=>l[s]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}var S={};(function(p){function f(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(r){return typeof r}:f=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},f(e)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var u=s(U);function l(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return l=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(e===null||f(e)!=="object"&&typeof e!="function")return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(n){v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t,r){return t&&E(e.prototype,t),r&&E(e,r),e}function R(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},b(e,t)}function k(e){var t=W();return function(){var n=m(e),i;if(t){var o=m(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return C(this,i)}}function C(e,t){return t&&(f(t)==="object"||typeof t=="function")?t:g(e)}function g(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},m(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _="64px",O={},M=function(e){R(r,e);var t=k(r);function r(){var n;x(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),v(g(n),"mounted",!1),v(g(n),"state",{image:null}),v(g(n),"handleKeyPress",function(c){(c.key==="Enter"||c.key===" ")&&n.props.onClick()}),n}return j(r,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.url,c=o.light;(i.url!==a||i.light!==c)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(i){var o=this,a=i.url,c=i.light,w=i.oEmbedUrl;if(!u.default.isValidElement(c)){if(typeof c=="string"){this.setState({image:c});return}if(O[a]){this.setState({image:O[a]});return}return this.setState({image:null}),window.fetch(w.replace("{url}",a)).then(function(y){return y.json()}).then(function(y){if(y.thumbnail_url&&o.mounted){var d=y.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");o.setState({image:d}),O[a]=d}})}}},{key:"render",value:function(){var i=this.props,o=i.light,a=i.onClick,c=i.playIcon,w=i.previewTabIndex,y=this.state.image,d=u.default.isValidElement(o),D={display:"flex",alignItems:"center",justifyContent:"center"},P={preview:I({width:"100%",height:"100%",backgroundImage:y&&!d?"url(".concat(y,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},D),shadow:I({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:_,width:_,height:_,position:d?"absolute":void 0},D),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},N=u.default.createElement("div",{style:P.shadow,className:"react-player__shadow"},u.default.createElement("div",{style:P.playIcon,className:"react-player__play-icon"}));return u.default.createElement("div",{style:P.preview,className:"react-player__preview",onClick:a,tabIndex:w,onKeyPress:this.handleKeyPress},d?o:null,c||N)}}]),r}(u.Component);p.default=M})(S);const $=T(S),z=K({__proto__:null,default:$},[S]);export{z as P};
//# sourceMappingURL=Preview-ea3241aa.js.map
