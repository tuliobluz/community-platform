{"version":3,"file":"CreateReply-e3b3b21f.js","sources":["../../src/CreateReply/CreateReply.tsx"],"sourcesContent":["import { useState } from 'react'\nimport { Alert, Box } from 'theme-ui'\n\nimport { CreateComment } from '../CreateComment/CreateComment'\n\nexport interface Props {\n  commentId: string\n  isLoggedIn: boolean\n  maxLength: number\n  onSubmit: (_id: string, reply: string) => Promise<void>\n}\n\nexport const CreateReply = (props: Props) => {\n  const [reply, setReply] = useState<string>('')\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [isError, setIsError] = useState<boolean>(false)\n  const { commentId, isLoggedIn, maxLength, onSubmit } = props\n\n  const handleSubmit = async () => {\n    setIsLoading(true)\n    try {\n      await onSubmit(commentId, reply)\n      setReply('')\n      setIsLoading(false)\n    } catch (error) {\n      // Swallow the error for now\n      setIsLoading(false)\n      setIsError(true)\n    }\n  }\n\n  return (\n    <Box\n      sx={{\n        background: 'softblue',\n        borderRadius: 2,\n        marginBottom: 3,\n        padding: 3,\n      }}\n    >\n      <CreateComment\n        maxLength={maxLength}\n        comment={reply}\n        onChange={(text) => setReply(text)}\n        onSubmit={handleSubmit}\n        isLoggedIn={isLoggedIn}\n        isLoading={isLoading}\n        buttonLabel=\"Leave a reply\"\n      />\n      {isError ? (\n        <Alert variant=\"failure\" sx={{ mt: 3 }}>\n          Unable to leave a comment at this time. Please try again later.\n        </Alert>\n      ) : null}\n    </Box>\n  )\n}\n"],"names":["CreateReply","props","reply","setReply","useState","isLoading","setIsLoading","isError","setIsError","commentId","isLoggedIn","maxLength","onSubmit","jsxs","Box","jsx","CreateComment","text","Alert"],"mappings":"8MAYO,MAAAA,EAAAC,GAAA,CACL,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,EAAA,SAAA,EAAA,EACA,CAAAG,EAAAC,CAAA,EAAAJ,EAAA,SAAA,EAAA,EACA,CAAA,UAAAK,EAAA,WAAAC,EAAA,UAAAC,EAAA,SAAAC,CAAA,EAAAX,EAeA,OAAAY,EACEC,EAAC,CAAA,GAAA,CACK,WAAA,WACU,aAAA,EACE,aAAA,EACA,QAAA,CACL,EACX,SAAA,CAEAC,EAAAC,EAAC,CAAA,UAAAL,EACC,QAAAT,EACS,SAAAe,GAAAd,EAAAc,CAAA,EACwB,SAzBvC,SAAA,CACEX,EAAA,EAAA,EACA,GAAA,CACE,MAAAM,EAAAH,EAAAP,CAAA,EACAC,EAAA,EAAA,EACAG,EAAA,EAAA,CAAkB,MAAA,CAGlBA,EAAA,EAAA,EACAE,EAAA,EAAA,CAAe,CACjB,EAgBc,WAAAE,EACV,UAAAL,EACA,YAAA,eACY,CAAA,EACdE,EAAAQ,EAAAG,EAAA,CAAA,QAAA,UAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,iEAAA,CAAA,EAAA,IAKI,CAAA,CAAA,CAGV"}