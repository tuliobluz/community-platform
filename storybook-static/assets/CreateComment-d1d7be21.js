import{j as a,a as n,F as h}from"./jsx-runtime-913be41c.js";import{L as y}from"./index-54304c9c.js";import{M as x}from"./MemberBadge-deeef9dd.js";import{F as l,B as d,T as L,b as u,a as C}from"./theme-ui-components.esm-29c4d01e.js";const c=e=>{const{comment:t,isLoggedIn:r,maxLength:m,onSubmit:g,isLoading:i}=e,p=e.userProfileType||"member",b=e.placeholder||"Leave your questions or feedback...",f=e.buttonLabel??"Leave a comment",s=o=>{e.onChange&&(e==null||e.onChange(o))};return a(l,{sx:{flexDirection:"column",gap:3},children:[a(l,{"data-target":"create-comment-container",children:[n(d,{sx:{lineHeight:0,marginTop:2,display:["none","block"]},children:n(x,{profileType:p,useLowDetailVersion:!0})}),n(d,{sx:{display:"block",background:"white",flexGrow:1,marginLeft:[2,5],borderRadius:1,position:"relative","&:before":{content:'""',position:"absolute",borderWidth:"1em 1em",borderStyle:"solid",borderColor:"transparent white transparent transparent",margin:"1em -2em"}},children:r?a(h,{children:[n(L,{value:t,maxLength:m,onChange:o=>{s&&s(o.target.value)},"aria-label":"Comment","data-cy":"comments-form",placeholder:b,sx:{background:"none",resize:"vertical",padding:3,"&:focus":{borderColor:"transparent"}}}),a(u,{sx:{fontSize:2,position:"absolute",right:0,bottom:-5,pointerEvents:"none",padding:1},children:[t.length,"/",m]})]}):n(d,{sx:{padding:[3,4]},children:a(u,{"data-cy":"comments-login-prompt",children:["Hi there!"," ",n(y,{to:"/sign-in",style:{textDecoration:"underline",color:"inherit"},children:"Login"})," ","to leave a comment"]})})})]}),n(l,{sx:{alignSelf:"flex-end"},children:n(C,{"data-cy":"comment-submit",disabled:!t.trim()||!r||i,variant:"primary",onClick:()=>{i||g(t)},sx:{marginTop:r?3:0},children:i?"Loading...":f})})]})};try{c.displayName="CreateComment",c.__docgenInfo={description:"",displayName:"CreateComment",props:{maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!0,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(value: string) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},userProfileType:{defaultValue:null,description:"",name:"userProfileType",required:!1,type:{name:"string"}},buttonLabel:{defaultValue:null,description:"",name:"buttonLabel",required:!1,type:{name:"string"}}}}}catch{}export{c as C};
//# sourceMappingURL=CreateComment-d1d7be21.js.map
