import{j as I,a as r}from"./jsx-runtime-913be41c.js";import{r as u}from"./index-2506bfc3.js";import{C as _}from"./CommentList-836a4886.js";import{C as D}from"./CreateComment-d1d7be21.js";import{D as v}from"./DiscussionTitle-3a1447df.js";import{F as d}from"./theme-ui-components.esm-29c4d01e.js";const S=o=>{const i=[],n={};for(const e of o)if(n[e._id]=e,e.parentCommentId){const t=n[e.parentCommentId];if(!t)continue;t.replies||(t.replies=[]),t.replies.push(e)}for(const e of o)e.parentCommentId||i.push(e);return i},p=o=>{const{comment:i,comments:n,handleDelete:e,handleEdit:t,handleEditRequest:c,onSubmitReply:g,highlightedCommentId:f,maxLength:m,onChange:h,onMoreComments:C,onSubmit:y,isLoggedIn:a,showAvatar:q,supportReplies:R=!1}=o,[V,s]=u.useState(null),b=u.useMemo(()=>S(n),[n]),x=l=>{if(l===V)return s(null);s(l)};return I(d,{sx:{flexDirection:"column",gap:2},children:[r(v,{length:n.length}),r(_,{supportReplies:R,comments:b,handleDelete:e,handleEdit:t,handleEditRequest:c,highlightedCommentId:f,isLoggedIn:a,isReplies:!1,maxLength:m,onMoreComments:C,onSubmitReply:g,setCommentBeingRepliedTo:x,showAvatar:q}),r(d,{sx:{alignItems:"stretch",background:"softblue",borderRadius:2,flexDirection:"column",padding:3},children:r(D,{maxLength:m,comment:i,onChange:h,onSubmit:y,isLoggedIn:a})})]})};try{p.displayName="DiscussionContainer",p.__docgenInfo={description:"",displayName:"DiscussionContainer",props:{comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"string"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"IComment[]"}},handleDelete:{defaultValue:null,description:"",name:"handleDelete",required:!0,type:{name:"(_id: string) => Promise<void>"}},handleEdit:{defaultValue:null,description:"",name:"handleEdit",required:!0,type:{name:"(_id: string, comment: string) => Promise<void>"}},handleEditRequest:{defaultValue:null,description:"",name:"handleEditRequest",required:!0,type:{name:"() => Promise<void>"}},highlightedCommentId:{defaultValue:null,description:"",name:"highlightedCommentId",required:!1,type:{name:"string"}},isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!0,type:{name:"boolean"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(comment: string) => void"}},onMoreComments:{defaultValue:null,description:"",name:"onMoreComments",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(comment: string) => void"}},onSubmitReply:{defaultValue:null,description:"",name:"onSubmitReply",required:!0,type:{name:"(_id: string, reply: string) => Promise<void>"}},showAvatar:{defaultValue:null,description:"",name:"showAvatar",required:!0,type:{name:"boolean"}},supportReplies:{defaultValue:null,description:"",name:"supportReplies",required:!1,type:{name:"boolean"}}}}}catch{}export{p as D};
//# sourceMappingURL=DiscussionContainer-91b8e8ca.js.map
