{"version":3,"file":"CreateComment-d1d7be21.js","sources":["../../src/CreateComment/CreateComment.tsx"],"sourcesContent":["import { Link } from 'react-router-dom'\nimport { Box, Button, Flex, Text, Textarea } from 'theme-ui'\n\nimport { MemberBadge } from '../MemberBadge/MemberBadge'\n\nexport interface Props {\n  maxLength: number\n  isLoggedIn: boolean\n  isLoading?: boolean\n  onSubmit: (value: string) => void\n  onChange: (value: string) => void\n  comment: string\n  placeholder?: string\n  userProfileType?: string\n  buttonLabel?: string\n}\n\nexport const CreateComment = (props: Props) => {\n  const { comment, isLoggedIn, maxLength, onSubmit, isLoading } = props\n  const userProfileType = props.userProfileType || 'member'\n  const placeholder = props.placeholder || 'Leave your questions or feedback...'\n  const buttonLabel = props.buttonLabel ?? 'Leave a comment'\n\n  const onChange = (newValue: string) => {\n    props.onChange && props?.onChange(newValue)\n  }\n\n  return (\n    <Flex sx={{ flexDirection: 'column', gap: 3 }}>\n      <Flex data-target=\"create-comment-container\">\n        <Box sx={{ lineHeight: 0, marginTop: 2, display: ['none', 'block'] }}>\n          <MemberBadge profileType={userProfileType} useLowDetailVersion />\n        </Box>\n        <Box\n          sx={{\n            display: 'block',\n            background: 'white',\n            flexGrow: 1,\n            marginLeft: [2, 5],\n            borderRadius: 1,\n            position: 'relative',\n            '&:before': {\n              content: '\"\"',\n              position: 'absolute',\n              borderWidth: '1em 1em',\n              borderStyle: 'solid',\n              borderColor: 'transparent white transparent transparent',\n              margin: '1em -2em',\n            },\n          }}\n        >\n          {isLoggedIn ? (\n            <>\n              <Textarea\n                value={comment}\n                maxLength={maxLength}\n                onChange={(event) => {\n                  onChange && onChange(event.target.value)\n                }}\n                aria-label=\"Comment\"\n                data-cy=\"comments-form\"\n                placeholder={placeholder}\n                sx={{\n                  background: 'none',\n                  resize: 'vertical',\n                  padding: 3,\n                  '&:focus': {\n                    borderColor: 'transparent',\n                  },\n                }}\n              />\n              <Text\n                sx={{\n                  fontSize: 2,\n                  position: 'absolute',\n                  right: 0,\n                  bottom: -5,\n                  pointerEvents: 'none',\n                  padding: 1,\n                }}\n              >\n                {comment.length}/{maxLength}\n              </Text>\n            </>\n          ) : (\n            <Box sx={{ padding: [3, 4] }}>\n              <Text data-cy=\"comments-login-prompt\">\n                Hi there!{' '}\n                <Link\n                  to=\"/sign-in\"\n                  style={{\n                    textDecoration: 'underline',\n                    color: 'inherit',\n                  }}\n                >\n                  Login\n                </Link>{' '}\n                to leave a comment\n              </Text>\n            </Box>\n          )}\n        </Box>\n      </Flex>\n\n      <Flex sx={{ alignSelf: 'flex-end' }}>\n        <Button\n          data-cy=\"comment-submit\"\n          disabled={!comment.trim() || !isLoggedIn || isLoading}\n          variant=\"primary\"\n          onClick={() => {\n            if (!isLoading) {\n              onSubmit(comment)\n            }\n          }}\n          sx={{ marginTop: isLoggedIn ? 3 : 0 }}\n        >\n          {isLoading ? 'Loading...' : buttonLabel}\n        </Button>\n      </Flex>\n    </Flex>\n  )\n}\n"],"names":["CreateComment","props","comment","isLoggedIn","maxLength","onSubmit","isLoading","userProfileType","placeholder","buttonLabel","onChange","newValue","jsxs","Flex","jsx","Box","MemberBadge","Fragment","Textarea","event","Text","Link","Button"],"mappings":"wOAiBO,MAAAA,EAAAC,GAAA,CACL,KAAA,CAAA,QAAAC,EAAA,WAAAC,EAAA,UAAAC,EAAA,SAAAC,EAAA,UAAAC,CAAA,EAAAL,EACAM,EAAAN,EAAA,iBAAA,SACAO,EAAAP,EAAA,aAAA,sCACAQ,EAAAR,EAAA,aAAA,kBAEAS,EAAAC,GAAA,CACEV,EAAA,WAAAA,GAAA,MAAAA,EAAA,SAAAU,GAA0C,EAG5C,OAAAC,EAAAC,EAAA,CAAA,GAAA,CAAA,cAAA,SAAA,IAAA,CAAA,EAAA,SAAA,CAEID,EAAAC,EAAA,CAAA,cAAA,2BAAA,SAAA,CACEC,EAAAC,EAAA,CAAA,GAAA,CAAA,WAAA,EAAA,UAAA,EAAA,QAAA,CAAA,OAAA,OAAA,GAAA,SAAAD,EAAAE,EAAA,CAAA,YAAAT,EAAA,oBAAA,EAAA,CAAA,EAAA,EAEAO,EACAC,EAAC,CAAA,GAAA,CACK,QAAA,QACO,WAAA,QACG,SAAA,EACF,WAAA,CAAA,EAAA,CAAA,EACO,aAAA,EACH,SAAA,WACJ,WAAA,CACE,QAAA,KACD,SAAA,WACC,YAAA,UACG,YAAA,QACA,YAAA,4CACA,OAAA,UACL,CACV,EACF,SAAAZ,EAAAS,EAAAK,EAAA,CAAA,SAAA,CAIIH,EAAAI,EAAC,CAAA,MAAAhB,EACQ,UAAAE,EACP,SAAAe,GAAA,CAEET,GAAAA,EAAAS,EAAA,OAAA,KAAA,CAAuC,EACzC,aAAA,UACW,UAAA,gBACH,YAAAX,EACR,GAAA,CACI,WAAA,OACU,OAAA,WACJ,QAAA,EACC,UAAA,CACE,YAAA,aACI,CACf,CACF,CAAA,EACFI,EACAQ,EAAC,CAAA,GAAA,CACK,SAAA,EACQ,SAAA,WACA,MAAA,EACH,OAAA,GACC,cAAA,OACO,QAAA,CACN,EACX,SAAA,CAEClB,EAAA,OAAQ,IAAOE,CAAE,CAAA,CAAA,CACpB,CAAA,CAAA,EAAAU,EAAAC,EAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,SAAAH,EAAAQ,EAAA,CAAA,UAAA,wBAAA,SAAA,CAIsC,YAAA,IAC1BN,EACVO,EAAC,CAAA,GAAA,WACI,MAAA,CACI,eAAA,YACW,MAAA,SACT,EACT,SAAA,OACD,CAAA,EAED,IAAQ,oBAAI,CAAA,CAAA,CAAA,CAAA,CAGhB,CAAA,CAEJ,EAAA,EACFP,EAAAD,EAAA,CAAA,GAAA,CAAA,UAAA,UAAA,EAAA,SAAAC,EAGEQ,EAAC,CAAA,UAAA,iBACS,SAAA,CAAApB,EAAA,KAAA,GAAA,CAAAC,GAAAG,EACoC,QAAA,UACpC,QAAA,IAAA,CAENA,GACED,EAAAH,CAAA,CACF,EACF,GAAA,CAAA,UAAAC,EAAA,EAAA,CAAA,EACoC,SAAAG,EAAA,aAAAG,CAER,CAAA,EAAA,CAEhC,CAAA,CAAA,CAGN"}